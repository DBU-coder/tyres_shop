{% extends 'base.html' %}
{% load static shop_tags %}
{% block content %}
    <!--start page wrapper -->
    <div class="page-wrapper">
        <div class="page-content">
            <!--start breadcrumb-->
            <section class="py-3 border-bottom border-top d-none d-md-flex bg-light">
                <div class="container">
                    <div class="page-breadcrumb d-flex align-items-center">
                        <h3 class="breadcrumb-title pe-3">{{ category.name }}</h3>
                        <div class="ms-auto">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb mb-0 p-0">
                                    <li class="breadcrumb-item"><a href="{% url 'shop:index' %}"><i
                                            class="bx bx-home-alt"></i> Home</a>
                                    </li>
                                    <li class="breadcrumb-item"><a href="#">Categories</a>
                                    </li>
                                    <li class="breadcrumb-item active" aria-current="page">{{ category.name }}</li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
            </section>
            <!--end breadcrumb-->
            <!--start shop area-->
            <section class="py-4">
                <div class="container">
                    <div class="row">
                        <div class="col-12 col-xl-3">
                            <div class="btn-mobile-filter d-xl-none"><i class='bx bx-slider-alt'></i>
                            </div>
                            <div class="filter-sidebar d-none d-xl-flex">
                                <div class="card rounded-0 w-100">
                                    <div class="card-body">
                                        <div class="align-items-center d-flex d-xl-none">
                                            <h6 class="text-uppercase mb-0">Filter</h6>
                                            <div class="btn-mobile-filter-close btn-close ms-auto cursor-pointer"></div>
                                        </div>
                                        <hr class="d-flex d-xl-none"/>
                                        <div class="product-categories">
                                            <h6 class="text-uppercase mb-3">Categories</h6>
                                            <ul class="list-unstyled mb-0 categories-list">
                                                <li><a href="javascript:;">Clothings <span
                                                        class="float-end badge rounded-pill bg-primary">42</span></a>
                                                </li>
                                                <li><a href="javascript:;">Sunglasses <span
                                                        class="float-end badge rounded-pill bg-primary">32</span></a>
                                                </li>
                                                <li><a href="javascript:;">Bags <span
                                                        class="float-end badge rounded-pill bg-primary">17</span></a>
                                                </li>
                                                <li><a href="javascript:;">Watches <span
                                                        class="float-end badge rounded-pill bg-primary">217</span></a>
                                                </li>
                                                <li><a href="javascript:;">Furniture <span
                                                        class="float-end badge rounded-pill bg-primary">28</span></a>
                                                </li>
                                                <li><a href="javascript:;">Shoes <span
                                                        class="float-end badge rounded-pill bg-primary">145</span></a>
                                                </li>
                                                <li><a href="javascript:;">Accessories <span
                                                        class="float-end badge rounded-pill bg-primary">15</span></a>
                                                </li>
                                                <li><a href="javascript:;">Headphones <span
                                                        class="float-end badge rounded-pill bg-primary">8</span></a>
                                                </li>
                                            </ul>
                                        </div>
                                        <hr>
                                        <div class="price-range">
                                            <h6 class="text-uppercase mb-3">Price</h6>
                                            <div class="my-4" id="slider"></div>
                                            <div class="d-flex align-items-center">
                                                <button type="button"
                                                        class="btn btn-dark btn-sm text-uppercase rounded-0 font-13 fw-500">
                                                    Filter
                                                </button>
                                                <div class="ms-auto">
                                                    <p class="mb-0">Price: $200.00 - $900.00</p>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="size-range">
                                            <h6 class="text-uppercase mb-3">Size</h6>
                                            <ul class="list-unstyled mb-0 categories-list">
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="Small">
                                                        <label class="form-check-label" for="Small">Small</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="Medium">
                                                        <label class="form-check-label" for="Medium">Medium</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="Large">
                                                        <label class="form-check-label" for="Large">Large</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="ExtraLarge">
                                                        <label class="form-check-label" for="ExtraLarge">Extra
                                                            Large</label>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                        <hr>
                                        <div class="product-brands">
                                            <h6 class="text-uppercase mb-3">Brands</h6>
                                            <ul class="list-unstyled mb-0 categories-list">
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="Adidas">
                                                        <label class="form-check-label" for="Adidas">Adidas (15)</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="Armani">
                                                        <label class="form-check-label" for="Armani">Armani (26)</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="CalvinKlein">
                                                        <label class="form-check-label" for="CalvinKlein">Calvin Klein
                                                            (24)</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="Columbia">
                                                        <label class="form-check-label" for="Columbia">Columbia
                                                            (38)</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="JhonPlayers">
                                                        <label class="form-check-label" for="JhonPlayers">Jhon Players
                                                            (48)</label>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" value=""
                                                               id="Diesel">
                                                        <label class="form-check-label" for="Diesel">Diesel (64)</label>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                        <hr>
                                        <div class="product-colors">
                                            <h6 class="text-uppercase mb-3">Colors</h6>
                                            <ul class="list-unstyled mb-0 categories-list">
                                                <li>
                                                    <div class="d-flex align-items-center cursor-pointer">
                                                        <div class="color-indigator bg-black"></div>
                                                        <p class="mb-0 ms-3">Black</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="d-flex align-items-center cursor-pointer">
                                                        <div class="color-indigator bg-warning"></div>
                                                        <p class="mb-0 ms-3">Yellow</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="d-flex align-items-center cursor-pointer">
                                                        <div class="color-indigator bg-danger"></div>
                                                        <p class="mb-0 ms-3">Red</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="d-flex align-items-center cursor-pointer">
                                                        <div class="color-indigator bg-primary"></div>
                                                        <p class="mb-0 ms-3">Blue</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="d-flex align-items-center cursor-pointer">
                                                        <div class="color-indigator bg-white"></div>
                                                        <p class="mb-0 ms-3">White</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="d-flex align-items-center cursor-pointer">
                                                        <div class="color-indigator bg-success"></div>
                                                        <p class="mb-0 ms-3">Green</p>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="d-flex align-items-center cursor-pointer">
                                                        <div class="color-indigator bg-info"></div>
                                                        <p class="mb-0 ms-3">Sky Blue</p>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-xl-9">
                            <div class="product-wrapper">


                                <form class="toolbox d-flex align-items-center mb-3 gap-2">
                                    <div class="d-flex flex-wrap flex-grow-1 gap-1">
                                            <div class="d-flex align-items-center flex-nowrap">
                                                <label for="sort-select" class="mb-0 font-13 text-nowrap">Sort
                                                    By:</label>
                                                <select onchange="form.submit()" class="form-select ms-3 rounded-0"
                                                        id="sort-select" name="order_by">
                                                    <option value="id" {% if not order_field %}selected{% endif %}>
                                                        Default sorting
                                                    </option>
                                                <option value="-avg_rating"
                                                            {% if order_field == '-avg_rating' %}selected{% endif %}>Sort
                                                        by rating: high to low
                                                    </option>
                                                <option value="avg_rating"
                                                            {% if order_field == 'avg_rating' %}selected{% endif %}>Sort
                                                        by rating: low to high
                                                    </option>
                                                    <option value="-created"
                                                            {% if order_field == '-created' %}selected{% endif %}>Sort
                                                        by newness
                                                    </option>
                                                    <option value="price"
                                                            {% if order_field == 'price' %}selected{% endif %}>Sort by
                                                        price: low to high
                                                    </option>
                                                    <option value="-price"
                                                            {% if order_field == '-price' %}selected{% endif %}>Sort by
                                                        price: high to low
                                                    </option>
                                                </select>
                                            </div>

                                    </div>
                                    <div class="d-flex flex-wrap">
                                            <div class="d-flex align-items-center flex-nowrap">
                                            <label for="paginate-select" class="mb-0 font-13 text-nowrap">Show:</label>
                                            <select onchange="form.submit();" class="form-select ms-3 rounded-0" id="paginate-select" name="paginate_by">
                                                <option value="2" {% if paginator.per_page == 2 %}selected{% endif %}>2</option>
                                                <option value="3" {% if paginator.per_page == 3 %}selected{% endif %}>3</option>
                                                <option value="4" {% if paginator.per_page == 4 %}selected{% endif %}>4</option>
                                                <option value="12" {% if paginator.per_page == 12 %}selected{% endif %}>12</option>
                                                <option value="24" {% if paginator.per_page == 24 %}selected{% endif %}>24</option>
                                                <option value="48" {% if paginator.per_page == 48 %}selected{% endif %}>42</option>
                                            </select>
                                                </div>
                                    </div>

                                    <div><a href="shop-grid-left-sidebar.html" class="btn btn-white rounded-0"><i
                                            class='bx bxs-grid me-0'></i></a>
                                    </div>
                                    <div><a href="shop-list-left-sidebar.html" class="btn btn-light rounded-0"><i
                                            class='bx bx-list-ul me-0'></i></a>
                                    </div>
                                </form>
                                <div class="product-grid" id="product-list">
                                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-3">
                                        {% for product in products %}

                                            <div class="col">
                                                <div class="card rounded-0 product-card">
                                                    <div class="card-header bg-transparent border-bottom-0">
                                                        <div class="d-flex align-items-center justify-content-end gap-3">
                                                            <a href="javascript:;">
                                                                <div class="product-compare"><span><i
                                                                        class="bx bx-git-compare"></i> Compare</span>
                                                                </div>
                                                            </a>
                                                            <a href="javascript:;">
                                                                <div class="product-wishlist"><i
                                                                        class="bx bx-heart"></i>
                                                                </div>
                                                            </a>
                                                        </div>
                                                    </div>
                                                    {% get_main_image product as image %}
                                                    <img src="{{ image.url }}" class="card-img-top" alt="...">

                                                    <div class="card-body">
                                                        <div class="product-info">
                                                            <a href="javascript:;">
                                                                <p class="product-catergory font-13 mb-1">{{ product.category }}</p>
                                                            </a>
                                                            <a href="{{ product.get_absolute_url }}">
                                                                <h6 class="product-name mb-2">{{ product.name }}</h6>
                                                            </a>
                                                            <div class="d-flex align-items-center">
                                                                <div class="mb-1 product-price">
                                                                    <span class="me-1 text-decoration-line-through">&#8372 99.00</span>
                                                                    <span class="fs-5">&#8372 {{ product.price }}</span>
                                                                </div>
                                                                {% show_rating product %}
                                                            </div>
                                                            <div class="product-action mt-2">
                                                                <div class="d-grid gap-2">
                                                                    <a href="{% url 'cart:cart_add' product.model_name product.slug %}"
                                                                       class="btn btn-dark btn-ecomm"> <i
                                                                            class="bx bxs-cart-add"></i>Add to Cart</a>
                                                                    <a href="javascript:;"
                                                                       class="btn btn-light btn-ecomm"
                                                                       data-bs-toggle="modal"
                                                                       data-bs-target="#QuickViewProduct"><i
                                                                            class="bx bx-zoom-in"></i>Quick View</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <!--end row-->
                                </div>
                                <hr>
                                {% include 'shop/category_pagination.html' %}

                            </div>
                        </div>
                    </div>
                    <!--end row-->
                </div>
            </section>
            <!--end shop area-->
        </div>
    </div>
    <!--end page wrapper -->
{% endblock content %}